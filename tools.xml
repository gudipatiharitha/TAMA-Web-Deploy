<?xml version="1.0" encoding="UTF-8"?>
<project name="tama-tools" basedir=".">
    <property file="${basedir}/properties/${env}/tools.properties"/>
    <property file="${basedir}/properties/${env}/deploy.properties"/>

    <path id="libs">
        <fileset dir="${tomcat.home}/webapps/${app.name}/WEB-INF/lib/" includes="**/*.jar"/>
    </path>

    <target name="setup.adherence.logs">
        <java fork="false" classname="${adherenceLogs.mainClass}">
            <arg line="${adherenceLogs.patientId}"/>
            <arg line="${adherenceLogs.fromDate}"/>
            <arg line="${adherenceLogs.toDate}"/>
            <arg line="${adherenceLogs.nthDosageThatWillNotBeTaken}"/>
            <classpath>
                <path location="${tomcat.home}/webapps/${app.name}/WEB-INF/classes"/>
                <path refid="libs"/>
            </classpath>
        </java>
    </target>

    <target name="setup.outbox.messages">
        <echo message="Loading outbox messages..."/>
        <java fork="false" classname="${outboxmessage.setup.main.class}">
            <classpath>
                <path location="${tomcat.home}/webapps/${app.name}/WEB-INF/classes"/>
                <path refid="libs"/>
            </classpath>
            <arg line="${params}"></arg>
        </java>
	</target>
		
	<target name="trigger.four.day.recall.event">
        <java fork="false" classname="${fourDayRecall.main.class}">
            <classpath>
                <path location="${tomcat.home}/webapps/${app.name}/WEB-INF/classes"/>
                <path refid="libs"/>
            </classpath>
            <arg line="${patientId}"></arg>
        </java>
    </target>
</project>
