<?xml version="1.0" encoding="UTF-8"?>
<project name="tama-tools" basedir=".">
    <property file="${basedir}/properties/${env}/tools.properties"/>
    <property file="${basedir}/properties/${env}/deploy.properties"/>

    <path id="libs">
        <fileset dir="${tomcat.home}/webapps/${app.name}/WEB-INF/lib/" includes="**/*.jar"/>
    </path>

    <target name="setup.adherence.logs">
        <java fork="false" classname="${adherenceLogs.mainClass}">
            <arg line="${adherenceLogs.patientId}"/>
            <arg line="${adherenceLogs.regimenId}"/>
            <arg line="${adherenceLogs.dosageId}"/>
            <arg line="${adherenceLogs.fromDate}"/>
            <arg line="${adherenceLogs.toDate}"/>
            <arg line="${adherenceLogs.nthDosageThatWillNotBeTaken}"/>
            <classpath>
                <path location="${tomcat.home}/webapps/${app.name}/WEB-INF/classes"/>
                <path refid="libs"/>
            </classpath>
        </java>
    </target>

    <target name="setup.outbox.messages">
        <java fork="false" classname="${outboxMessages.mainClass}">
            <arg line="${outboxMessages.patientId}"/>
            <arg line="${outboxMessages.messageCount}"/>
        </java>
    </target>
</project>